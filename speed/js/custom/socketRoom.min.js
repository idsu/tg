var socket=io();socket.on("CB_RESULT_ROOM",function(a){freegame=!1;var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")?("START"==b.c_mode?(setGameStart(),"2"==view_ver&&("mobile"==tem||"pc"==tem)&&mobile_game_start()):(setGameFinish(a),"2"==view_ver&&("mobile"==tem||"pc"==tem)&&mobile_game_end()),checkgamecheckfun(b.c_table_idx)):0<$("#move_room_list").find(".info").length&&"START"==b.c_mode&&(bars_times[b.c_table_idx]=100,table_list_bar_view(b.c_table_idx))}),socket.on("CB_RESULT",function(a){freegame=!1;var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")?("START"==b.c_mode?(setGameStart(),"2"==view_ver&&("mobile"==tem||"pc"==tem)&&mobile_game_start()):(setGameFinish(a),"2"==view_ver&&("mobile"==tem||"pc"==tem)&&mobile_game_end(),++video_game_cnt),checkgamecheckfun(b.c_table_idx)):0<$("#move_room_list").find(".info").length&&setRTGameResultList(a)}),socket.on("CB_CHANGE",function(a){freegame=!1,setRTShoeChangeRoom(a),!0==speed_game&&speed_change(a)}),socket.on("CB_LASTCARD",function(a){var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")&&setLastCard()}),socket.on("CB_ERROR",function(a){freegame=!1;var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")&&setTimeout(function(){location.reload()},1e3)}),socket.on("CB_CHANGE_MONEY",function(a){setChangeMoney(a)}),socket.on("CB_MONEY_BET_CHANGE",function(a){var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")&&b.c_agent_id==$("#c_agent_id").val()&&setTimeout(function(){setbetMoneyChange(b)},2e3)}),socket.on("CB_SPEED_TIMER_CRON",function(a){var b=JSON.parse(a);for(var c in b)c==getParametersChoi("idx").replace(/[^0-9]/g,"")&&(timeleft=45-parseInt(b[c]))}),socket.on("CB_LOGOUT",function(a){logout_fun(a)}),socket.on("CB_SPEED_BET",function(a){speed_insert(a,0)}),socket.on("CB_SPEED_CANCEL",function(a){speed_cancel(a)}),socket.on("CB_SPEED_START",function(a){speed_start_fun(a)}),socket.on("CB_SPEED_ROOM_USER",function(a){speed_usercnt_fun(a)}),socket.on("CB_MESSAGES",function(a){var b=JSON.parse(a);""==b.c_msg?setTimeout(function(){top.location.href="/logout"},100):alert(b.c_msg)}),socket.on("CB_SPEED_TIMER",function(a){var b=JSON.parse(a);b==getParametersChoi("idx").replace(/[^0-9]/g,"")&&(chipClass("bg_black","del"),game_checks=!1,0<timeleft?timeleft=45:(timeleft=45,countdown_fun(),enableBet()))}),socket.on("CB_SPEED_TIMER_RESET",function(a){var b=JSON.parse(a);b.c_table_idx==getParametersChoi("idx").replace(/[^0-9]/g,"")&&(chipClass("bg_black","del"),game_checks=!1,0<timeleft?timeleft=45:(timeleft=45,countdown_fun(),enableBet()))}),socket.on("CB_SPEED_SESSION",function(){speed_session()}),socket.on("CB_SPEED_FREEGAME",function(){speed_freegame()});var socketroomno="0";socket.on("CB_ROOMIN",function(a){var b=JSON.parse(a);socketroomno=b});function joinRoom(){var a={};a.c_room_idx=$("#c_table_idx").val(),a.c_user_id=$("#c_user_id").val(),a.c_agent_id=$("#c_agent_id").val(),a.c_location="ROOM",a.c_speed=!0==speed_game?"game":"user",socket.emit("JOIN_ROOM",a)}function speedtimerreset(){if(0<timeleft)alert("Error Set");else{var a={};a.c_room_idx=$("#c_table_idx").val(),socket.emit("SPEED_TIMER_RESET",a)}}function speedfreegame(){if("0"==$("#c_user_money").val())return void alert(languges[getCookie("global")].lang.t_nemoney);var a={};a.c_room_idx=$("#c_table_idx").val(),a.c_user_id=$("#c_user_id").val(),socket.emit("SPEED_FREE_GAME",a)}function checkgamecheckfun(a){setCookie("checktablenogame",a,"999999")}function checksocketconnect(){try{0<getParametersChoi("idx")&&(!1==socket.connected&&joinRoom(),socketroomno!=getParametersChoi("idx"))}catch(a){}setTimeout("checksocketconnect()",5e3)}setTimeout("checksocketconnect()",5e3);